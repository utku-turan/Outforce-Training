# CDS View Types
- SAP promotes a layered view approach.
- Each type of CDS view serves a distinct role in the architecture.

## Layered Architecture Summary
| Layer           | View Type                          | Purpose                     |
| -----------     | ---------------------------------- | --------------------------- |
| **Data Source** | Basic View                         | Raw table structure         |
| **Integration** | Composite / Interface View         | Combine, enrich, structure  |
| **Consumption** | Consumption View / Projection View | UI, Fiori, OData, reporting |

## Basic Views
- Directly **map to one database table** or a stable set of joined tables.
- **No business logic**, **no transformations** â€” only raw fields, possibly renamed for semantic clarity.
- Used as building blocks for higher-level views.
- Use when: You want a reusable and stable source of raw data.
- Example:
  ```abap
  define view ZI_Product as select from mara {
    key matnr,
        mtart,
        matkl
  }
  ```

## Composite Views
- **Combine multiple basic views or other composite views** using joins or unions.
- Introduce logic like **derived fields**, **calculated fields**, **simple transformations**.
- Still **not designed for direct consumption**.
- Use when: You want to reuse data across domains or merge several data sources.
- Example:
  ```abap
  define view ZC_Product as select from zi_product
    association [0..1] to zc_material_group as _MatGroup  
  {
    key matnr,
        mtart,
        _MatGroup.matgr_descr
  }

## Consumption Views
- **Expose data for specific use cases** (e.g., UI, APIs, analytics).
- Include **UI annotations**, **OData annotations**, and **labels**.
- Based on composite/interface views.
- Use when: You expose the view to end users, Fiori apps, or services.
- Example:
  ```abap
  @OData.publish: true
  define view ZC_ProductConsumption as select from ZC_Product {
    key matnr,
        mtart,
        _MatGroup.matgr_descr
  }
  ```

## Interface Views
- Term often used for **input views in RAP** or when defining reusable public interfaces.
- May involve associations, filtering logic, and structure definition.
- Use `I_` prefix (by convention).
- Use when: You need a stable data contract for consumption in RAP or other apps.

## Analytical Views
- Used in **embedded analytics and reporting** (not common in transactional RAP scenarios):

  | Type               | Purpose                           |
  | --------------     | --------------------------------- |
  | **Cube View**      | Fact data, aggregations, measures |
  | **Dimension View** | Master data, context fields       |
  | **Fact View**      | Raw numeric data, KPIs            |

- Include annotations like:
  ```abap
  @Analytics.dataCategory: #CUBE / #DIMENSION / #FACT
  @Analytics.query: true
  ```

## External Views
- **Represent external entities** (e.g., APIs, remote data sources).
- Often generated by tools like Service Consumption Model.
- Use when: You integrate with external systems using CDS-compatible proxies.

## Projection Views (RAP)
- Define a **customized interface on top of an interface view in RAP**.
- Used to filter/expose specific fields to the Fiori UI.
- Use when: You only want to **expose a subset of your data model**.
